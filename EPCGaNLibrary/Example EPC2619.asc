Version 4
SHEET 1 3080 976
WIRE 1680 -736 1216 -736
WIRE 1728 -736 1680 -736
WIRE 1216 -640 1216 -656
WIRE 352 -544 288 -544
WIRE 528 -544 352 -544
WIRE 784 -544 608 -544
WIRE 880 -544 864 -544
WIRE 944 -544 880 -544
WIRE 1008 -544 944 -544
WIRE 1136 -544 1088 -544
WIRE 1216 -496 1216 -512
WIRE 1216 -496 1120 -496
WIRE 1680 -496 1680 -736
WIRE 784 -480 752 -480
WIRE 880 -480 880 -544
WIRE 880 -480 864 -480
WIRE 1072 -480 992 -480
WIRE 544 -448 544 -496
WIRE 544 -448 432 -448
WIRE 704 -448 544 -448
WIRE 992 -448 992 -480
WIRE 1120 -448 1120 -496
WIRE 1216 -448 1216 -496
WIRE 752 -432 752 -480
WIRE 1072 -432 1072 -480
WIRE 704 -416 704 -448
WIRE 592 -368 592 -496
WIRE 592 -368 432 -368
WIRE 704 -368 592 -368
WIRE 992 -352 992 -368
WIRE 1072 -352 1072 -384
WIRE 1072 -352 992 -352
WIRE 288 -320 288 -464
WIRE 752 -320 752 -352
WIRE 752 -320 288 -320
WIRE 992 -320 992 -352
WIRE 992 -320 752 -320
WIRE 1120 -320 1120 -368
WIRE 1120 -320 992 -320
WIRE 1216 -320 1216 -368
WIRE 1216 -320 1120 -320
WIRE 1280 -320 1216 -320
WIRE 1312 -320 1280 -320
WIRE 1424 -320 1392 -320
WIRE 1680 -320 1680 -416
WIRE 1424 -288 1424 -320
WIRE 1216 -224 1216 -240
WIRE 1424 -192 1424 -208
WIRE 1536 -192 1424 -192
WIRE 336 -128 288 -128
WIRE 528 -128 336 -128
WIRE 768 -128 608 -128
WIRE 880 -128 848 -128
WIRE 928 -128 880 -128
WIRE 992 -128 928 -128
WIRE 1136 -128 1072 -128
WIRE 1424 -128 1424 -192
WIRE 1536 -128 1536 -192
WIRE 1072 -112 1008 -112
WIRE 288 -96 288 -128
WIRE 1216 -96 1120 -96
WIRE 1008 -80 1008 -112
WIRE 1120 -80 1120 -96
WIRE 544 -64 544 -80
WIRE 544 -64 432 -64
WIRE 704 -64 544 -64
WIRE 768 -64 752 -64
WIRE 880 -64 880 -128
WIRE 880 -64 848 -64
WIRE 1072 -64 1072 -112
WIRE 1216 -64 1216 -96
WIRE 752 -48 752 -64
WIRE 704 -32 704 -64
WIRE 592 16 592 -80
WIRE 592 16 432 16
WIRE 704 16 592 16
WIRE 1008 32 1008 0
WIRE 1072 32 1072 -16
WIRE 1072 32 1008 32
WIRE 288 64 288 -16
WIRE 752 64 752 32
WIRE 752 64 288 64
WIRE 1008 64 1008 32
WIRE 1008 64 752 64
WIRE 1120 64 1120 0
WIRE 1120 64 1008 64
WIRE 1216 64 1216 16
WIRE 1216 64 1120 64
WIRE 1424 64 1424 -64
WIRE 1424 64 1216 64
WIRE 1536 64 1536 -48
WIRE 1536 64 1424 64
WIRE 1680 64 1680 -240
WIRE 1680 64 1536 64
WIRE 1856 64 1680 64
WIRE 1856 80 1856 64
FLAG 1280 -320 Vsw
FLAG 1728 -736 Vdc
FLAG 944 -544 VG_HS
FLAG 928 -128 VG_LS
FLAG 1856 80 0
FLAG 1536 -192 Vout
FLAG 1216 -496 U1_S
FLAG 1216 -96 U2_S
FLAG 352 -544 VHS
FLAG 336 -128 VLS
FLAG 1424 -320 Vsw1
SYMBOL voltage 432 -464 R0
WINDOW 3 -211 112 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -79 227 Left 2
WINDOW 0 -43 7 Left 2
SYMATTR Value PULSE(0 5 0 1n 1n {dutyCycle/freq} {1/freq})
SYMATTR InstName V2
SYMBOL voltage 1680 -336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 17 132 Left 2
WINDOW 3 12 109 Left 2
SYMATTR Value {Vin}
SYMATTR InstName V1
SYMBOL voltage 432 -80 R0
WINDOW 3 -517 121 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -71 189 Left 2
WINDOW 0 -35 10 Left 2
SYMATTR Value PULSE(0 5 {dutyCycle/freq+tdead} 1n 1n {1/freq-dutyCycle/freq-2*tdead} {1/freq})
SYMATTR InstName V4
SYMBOL ind 1408 -304 R0
SYMATTR InstName L1
SYMATTR Value 2.2u
SYMATTR SpiceLine Rser=1u
SYMBOL cap 1408 -128 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL ind 1200 -464 R0
SYMATTR InstName L2
SYMATTR Value {CSI}
SYMBOL ind 1200 -80 R0
SYMATTR InstName L3
SYMATTR Value {CSI}
SYMBOL sw 1120 -464 R0
WINDOW 3 7 101 Left 2
SYMATTR Value MYSW
SYMATTR InstName S1
SYMBOL sw 1120 -96 R0
WINDOW 3 9 99 Left 2
SYMATTR Value MYSW
SYMATTR InstName S2
SYMBOL voltage 992 -352 R180
WINDOW 0 24 96 Left 2
WINDOW 3 -70 15 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {CSI_DISABLE}
SYMBOL voltage 1008 16 R180
WINDOW 0 24 96 Left 2
WINDOW 3 -60 8 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {CSI_DISABLE}
SYMBOL res 1408 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.0007
SYMBOL res 1664 -512 R0
SYMATTR InstName R2
SYMATTR Value 1m
SYMBOL res 880 -560 R90
WINDOW 0 0 18 VBottom 2
WINDOW 3 -27 103 VTop 2
SYMATTR InstName R12
SYMATTR Value 1.8
SYMBOL res 864 -144 R90
WINDOW 0 -1 25 VBottom 2
WINDOW 3 -28 100 VTop 2
SYMATTR InstName R22
SYMATTR Value 1.8
SYMBOL sw 752 -336 M180
WINDOW 3 29 76 Left 2
WINDOW 0 31 97 Left 2
SYMATTR Value GD_PD
SYMATTR InstName S11
SYMBOL sw 624 -544 M270
WINDOW 3 66 95 VLeft 2
WINDOW 0 39 30 VLeft 2
SYMATTR Value GD_PU
SYMATTR InstName S12
SYMBOL voltage 288 -560 R0
WINDOW 3 -36 100 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -79 227 Left 2
WINDOW 0 -54 16 Left 2
SYMATTR Value 5
SYMATTR InstName V15
SYMBOL sw 752 48 M180
WINDOW 3 36 62 Left 2
WINDOW 0 37 83 Left 2
SYMATTR Value GD_PD
SYMATTR InstName S21
SYMBOL sw 624 -128 M270
WINDOW 3 66 95 VLeft 2
WINDOW 0 39 30 VLeft 2
SYMATTR Value GD_PU
SYMATTR InstName S22
SYMBOL voltage 288 -112 R0
WINDOW 3 -36 100 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 -79 227 Left 2
WINDOW 0 -54 16 Left 2
SYMATTR Value 5
SYMATTR InstName V25
SYMBOL res 880 -496 R90
WINDOW 0 0 18 VBottom 2
WINDOW 3 -27 103 VTop 2
SYMATTR InstName R11
SYMATTR Value 0.5
SYMBOL res 864 -80 R90
WINDOW 0 -1 25 VBottom 2
WINDOW 3 -28 100 VTop 2
SYMATTR InstName R21
SYMATTR Value 0.5
SYMBOL res 1520 -144 R0
SYMATTR InstName RLoad
SYMATTR Value {Vin*dutyCycle/Iout}
SYMBOL res 1200 -752 R0
SYMATTR InstName R1d
SYMATTR Value 1µ
SYMBOL res 1200 -336 R0
SYMATTR InstName R2d
SYMATTR Value 1µ
SYMBOL res 992 -560 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1g
SYMATTR Value 1µ
SYMBOL res 976 -144 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2g
SYMATTR Value 1µ
SYMBOL EPCGaN 1136 -544 R0
WINDOW 0 97 -83 Left 2
WINDOW 3 -56 -106 Left 2
WINDOW 123 -106 -80 Left 2
SYMATTR InstName U1
SYMATTR Value EPC2619
SYMATTR Value2 Temp={Tj1}
SYMBOL EPCGaN 1136 -128 R0
WINDOW 0 97 -83 Left 2
WINDOW 3 -56 -106 Left 2
WINDOW 123 -106 -80 Left 2
SYMATTR InstName U2
SYMATTR Value EPC2619
SYMATTR Value2 Temp={Tj1}
TEXT 680 184 Left 2 !.tran 0 0.6ms {0.6m-10/{freq}}
TEXT 480 -752 Left 2 !.param Vin=48 dutyCycle=0.25 Iout=16 freq=500000 tdead=10n Tj1=100
TEXT 688 312 Left 2 ;.temp {Tj1}
TEXT 352 232 Left 2 !.ic V(Vout)={Vin*dutyCycle} V(VG_HS,Vsw)=0 V(VG_LS)=0 V(Vdc)=Vin  I(L1)=Iout
TEXT 688 464 Left 2 !.model GD_PU SW(Ron=0.7 Roff=1Meg Vt=2.5 Vh=0)
TEXT 688 488 Left 2 !.model GD_PD SW(Ron=1Meg Roff=0.4 Vt=2.5 Vh=0)
TEXT 688 440 Left 2 !*uP1966e driver
TEXT 680 152 Left 2 !.option noopiter
TEXT 1488 216 Left 2 !.param CSI=100pH
TEXT 1488 192 Left 2 !.param CSI_DISABLE=0
TEXT 1488 168 Left 2 !.model MYSW SW(Ron=1m Roff=1Meg Vt=.0.5 Vh=0.1)
TEXT 1496 320 Left 2 !.meas TRAN Phs AVG V(VG_HS,U1_S)*I(R1g)+V(Vdc,U1_S)*I(R1d)
TEXT 1496 352 Left 2 !.meas TRAN Pls AVG V(VG_LS,U2_S)*I(R2g)+V(Vsw,U2_S)*I(R2d)
TEXT 1496 384 Left 2 !.meas Pgd_hs AVG -V(VHS,Vsw)*I(V15)
TEXT 1496 408 Left 2 !.meas Pgd_ls AVG -V(VLS)*I(V25)
TEXT 1496 440 Left 2 !.meas Ptot param Phs+Pgd_hs+Pls+Pgd_ls
TEXT 1496 472 Left 2 !.meas Pin AVG -V(Vdc)*I(V1)
TEXT 1496 504 Left 2 !.meas Pout AVG V(Vout)*I(RLoad)
TEXT 1496 528 Left 2 !.meas Ploss param Pin-Pout
TEXT 1496 560 Left 2 !.meas Eff param Pout/Pin
TEXT 1504 608 Left 2 !.meas tr1 WHEN V(Vsw)={Vin*0.15} RISE=9
TEXT 1504 632 Left 2 !.meas tr2 WHEN V(Vsw)={Vin*0.85} RISE=1 TD=tr1
TEXT 1504 656 Left 2 !.meas trise_ns param (tr2-tr1)*1e9
TEXT 1504 688 Left 2 !.meas tf1 WHEN V(Vsw)={Vin*0.85} FALL=1 TD=(tr2+dutyCycle/freq*0.8)
TEXT 1504 712 Left 2 !.meas tf2 WHEN V(Vsw)={Vin*0.15} FALL=1 TD=tf1
TEXT 1504 744 Left 2 !.meas tfall_ns param (tf2-tf1)*1e9
TEXT 1504 776 Left 2 !.meas dVdtON param Vin*0.7/trise_ns
TEXT 1504 800 Left 2 !.meas dVdtOFF param Vin*0.7/tfall_ns
TEXT 1504 848 Left 2 !.meas Eon INTEG V(Vdc,U1_S)*I(R1d)*1e6 FROM (tr1-trise_ns/1e9*0.2) TO (tr2+trise_ns/1e9*0.2)
TEXT 1504 888 Left 2 !.meas Eoff INTEG V(Vdc,U1_S)*I(R1d)*1e6 FROM (tf1-tfall_ns/1e9*0.2) TO (tf2+tfall_ns/1e9*0.2)
TEXT 1504 960 Left 2 !.meas pldcr AVG V(Vsw1,Vsw)*I(R1)

